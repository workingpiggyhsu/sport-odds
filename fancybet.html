<!DOCTYPE html>
<html lang="zh-Hant" data-theme="dark">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Fancy Bet è¨ˆç®—å™¨ï¼ˆIndian Oddsï¼‰</title>
  <style>
    :root{
      /* dark */
      --bg:#0f1117; --panel:#161b22; --card:#0f131a; --input:#0c1016;
      --line:#243042; --text:#e9eef5; --muted:#98a2b3; --thead:#111726;
      --blue:#4da3ff; --pink:#ff79c6; --green:#38d89c; --red:#ff6b6b; --amber:#ffbf69;
    }
    [data-theme="light"]{
      --bg:#f6f7fb; --panel:#ffffff; --card:#ffffff; --input:#ffffff;
      --line:#e4e7ec; --text:#101828; --muted:#667085; --thead:#eef2f7;
      --blue:#2563eb; --pink:#c026d3; --green:#039855; --red:#d92d20; --amber:#b54708;
    }
    *{box-sizing:border-box}
    body{margin:0;background:var(--bg);color:var(--text);
      font-family:"Noto Sans TC","Microsoft JhengHei","PingFang TC",system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;
      line-height:1.55;}
    header{padding:22px 16px 6px}
    h1{margin:0 0 4px;font-weight:800;letter-spacing:.2px}
    .sub{color:var(--muted);font-size:14px;display:flex;gap:8px;align-items:center;flex-wrap:wrap}
    .wrap{max-width:1100px;margin:0 auto;padding:12px 16px 28px}
    .card{background:var(--panel);border:1px solid var(--line);border-radius:14px;padding:16px;box-shadow:0 10px 28px rgb(0 0 0 / .12)}
    .row{display:flex;gap:10px;flex-wrap:wrap;align-items:center}
    .right{margin-left:auto}
    label.small{display:block;font-size:12px;color:var(--muted);margin-bottom:6px}
    input,select,button{border-radius:10px;padding:10px 12px;border:1px solid var(--line);background:var(--input);color:var(--text);outline:none}
    input[type="number"]{width:120px}
    button{cursor:pointer;background:#1a2233;transition:.15s;border-color:#2a3448}
    button:hover{transform:translateY(-1px);box-shadow:0 6px 14px rgb(0 0 0 / .12)}
    .btn-primary{background:linear-gradient(135deg,#355cff,#8e76ff);border:none;color:#fff}
    .btn-danger{background:linear-gradient(135deg,#ff5a5a,#ff7a7a);border:none;color:#fff}
    .tabs{display:flex;gap:8px;margin-bottom:10px;flex-wrap:wrap}
    .tab{padding:10px 14px;border-radius:999px;border:1px solid var(--line);cursor:pointer;font-weight:700;background:#0f1522;color:var(--text)}
    .tab.active{background:#1b2434;box-shadow:inset 0 0 0 1px rgba(64,80,114,.6)}
    table{width:100%;border-collapse:separate;border-spacing:0}
    thead th{position:sticky;top:0;z-index:1;background:var(--thead);
      color:#7b8aab;font-weight:700;text-align:left;font-size:13px;padding:10px;border-bottom:1px solid var(--line)}
    tbody td{padding:8px 10px;border-bottom:1px dashed var(--line);vertical-align:middle}
    tr:last-child td{border-bottom:0}
    .grid{overflow:auto;border:1px solid var(--line);border-radius:12px}
    .num{font-variant-numeric:tabular-nums}
    .sum{display:grid;grid-template-columns:repeat(3,minmax(0,1fr));gap:10px;margin-top:12px}
    .box{background:var(--card);border:1px solid var(--line);border-radius:12px;padding:12px}
    .box h4{margin:0 0 6px;color:#7b8aab;font-size:13px}
    .val{font-size:22px;font-weight:800}
    .pos{color:var(--green)} .neg{color:var(--red)}
    details{border:1px solid var(--line);border-radius:12px;padding:10px 12px;background:var(--card)}
    details+details{margin-top:8px}
    details summary{cursor:pointer;font-weight:800;letter-spacing:.2px}
    .muted{color:var(--muted)}
    .pill{display:inline-block;padding:4px 10px;border-radius:999px;font-weight:700;font-size:12px}
    .pill.y{background:#183a1f;color:#8df2b5;border:1px solid #2e6d3d}
    .pill.n{background:#402020;color:#ffb3b3;border:1px solid #6d3030}
    .panel{display:none}
    .panel.active{display:block}
    @media(max-width:880px){
      .sum{grid-template-columns:1fr}
      input[type="number"]{width:100%}
    }
  </style>
</head>
<body>
  <header class="wrap">
    <h1>Fancy Bet è¨ˆç®—å™¨ï¼ˆIndian Oddsï¼‰</h1>
    <div class="sub">
      <span>æ”¯æ´ï¼š<b>åˆ†æ•¸ç·š YES/NO</b> èˆ‡ <b>ä¸€èˆ¬ YES/NO</b>ã€‚å«ã€Œç­‰æ–¼ç·šã€è™•ç†ã€æ·º/æ·±è‰²ä¸»é¡Œã€‚</span>
      <span class="right"></span>
      <button id="theme" title="åˆ‡æ›æ·±è‰²/æ·ºè‰²">åˆ‡æ›ç‚ºæ·ºè‰²</button>
    </div>
  </header>

  <main class="wrap card">
    <div class="tabs" role="tablist">
      <button class="tab active" data-tab="runs">åˆ†æ•¸ç·š YES/NO</button>
      <button class="tab" data-tab="basic">ä¸€èˆ¬ YES/NO</button>
      <button class="tab" data-tab="convert">è³ ç‡æ›ç®—</button>
    </div>

    <!-- RUNS PANEL -->
    <section class="panel active" id="panel-runs">
      <div class="row" style="margin-bottom:8px">
        <span class="pill y">YESï¼šé€šå¸¸ï¼é”åˆ°/å¤§æ–¼ç·š</span>
        <span class="pill n">NOï¼šé€šå¸¸ï¼æœªé”/å°æ–¼ç·š</span>
        <div class="right row">
          <div>
            <label class="small" style="margin-bottom:4px">æ¡ˆä¾‹ï¼ˆåˆ†æ•¸ç·šï¼‰</label>
            <select id="runs-presets">
              <option value="none">â€” è«‹é¸æ“‡ â€”</option>
              <option value="demo">è¼‰å…¥ç¤ºä¾‹ï¼ˆä¸€èˆ¬ï¼‰</option>
              <option value="big">å¤§è³ ç‡ç¤ºä¾‹ï¼ˆ128/500 & 128/300ï¼‰</option>
              <option value="small">å°è³ ç‡ç¤ºä¾‹ï¼ˆ27/110 & 27/90ï¼‰</option>
            </select>
          </div>
          <button class="btn-danger" id="runs-clear">æ¸…ç©º</button>
          <button class="btn" id="runs-add">æ–°å¢ä¸€ç­†</button>
        </div>
      </div>

      <div class="row" style="margin-bottom:10px">
        <div>
          <label class="small">ç­‰æ–¼åˆ†æ•¸ç·š (=) æ™‚</label>
          <select id="eq-mode">
            <option value="void" selected>ä½œå»¢é€€æœ¬é‡‘</option>
            <option value="yes">ç®— YES</option>
            <option value="no">ç®— NO</option>
          </select>
        </div>
        <div>
          <label class="small">é¡¯ç¤ºå°æ•¸ä½æ•¸</label>
          <input id="dp" type="number" min="0" max="4" value="2" />
        </div>
      </div>

      <div class="grid">
        <table aria-label="åˆ†æ•¸ç·šæŠ•æ³¨è¡¨">
          <thead>
            <tr>
              <th>#</th>
              <th>å¸‚å ´åç¨±</th>
              <th>ä½ çš„é¸æ“‡</th>
              <th>åˆ†æ•¸ç·šï¼ˆrunsï¼‰</th>
              <th>å°åº¦è³ ç‡</th>
              <th>æŠ•æ³¨é¡ï¼ˆstakeï¼‰</th>
              <th>å¯¦éš›çµæœï¼ˆrunsï¼‰</th>
              <th>æç›Šï¼ˆP/Lï¼‰</th>
              <th></th>
            </tr>
          </thead>
          <tbody id="runs-rows"></tbody>
        </table>
      </div>

      <div class="sum">
        <div class="box">
          <h4>ç¸½æç›Šï¼ˆåˆè¨ˆï¼‰</h4>
          <div class="val num" id="runs-total">0.00</div>
        </div>
        <div class="box">
          <h4>è´å–®æ•¸ / è¼¸å–®æ•¸ / ä½œå»¢</h4>
          <div class="val" id="runs-ct">0 / 0 / 0</div>
          <div class="muted">ä½œå»¢ï¼ä¾ä¸Šæ–¹ã€Œç­‰æ–¼ç·šã€è¨­å®š</div>
        </div>
        <div class="box">
          <h4>æç¤º</h4>
          <div class="muted">ä¸Šæ–¹è¨­å®šåªå½±éŸ¿ <b>çµæœ=åˆ†æ•¸ç·š</b> æ™‚çš„åˆ¤å®šï¼›å¯¦éš›ä»¥å¹³å°è¦å‰‡ç‚ºæº–ã€‚</div>
        </div>
      </div>
    </section>

    <!-- BASIC YES/NO PANEL -->
    <section class="panel" id="panel-basic">
      <div class="row" style="margin-bottom:8px">
        <span class="pill y">YES = äº‹ä»¶ç™¼ç”Ÿ</span>
        <span class="pill n">NO = äº‹ä»¶æœªç™¼ç”Ÿ</span>
        <div class="right row">
          <div>
            <label class="small" style="margin-bottom:4px">æ¡ˆä¾‹ï¼ˆä¸€èˆ¬ YES/NOï¼‰</label>
            <select id="basic-presets">
              <option value="none">â€” è«‹é¸æ“‡ â€”</option>
              <option value="demo">è¼‰å…¥ç¤ºä¾‹ï¼ˆä¸€èˆ¬ï¼‰</option>
              <option value="yn">YES/NO å¸‚å ´ç¤ºä¾‹ï¼ˆNO 55 / YES 45ï¼‰</option>
            </select>
          </div>
          <button class="btn-danger" id="basic-clear">æ¸…ç©º</button>
          <button class="btn" id="basic-add">æ–°å¢ä¸€ç­†</button>
        </div>
      </div>

      <div class="grid">
        <table aria-label="ä¸€èˆ¬YES/NOè¡¨">
          <thead>
            <tr>
              <th>#</th>
              <th>å¸‚å ´åç¨±</th>
              <th>ä½ çš„é¸æ“‡</th>
              <th>å°åº¦è³ ç‡</th>
              <th>æŠ•æ³¨é¡ï¼ˆstakeï¼‰</th>
              <th>çµæœ</th>
              <th>æç›Šï¼ˆP/Lï¼‰</th>
              <th></th>
            </tr>
          </thead>
          <tbody id="basic-rows"></tbody>
        </table>
      </div>

      <div class="sum">
        <div class="box">
          <h4>ç¸½æç›Šï¼ˆåˆè¨ˆï¼‰</h4>
          <div class="val num" id="basic-total">0.00</div>
        </div>
        <div class="box">
          <h4>è´å–®æ•¸ / è¼¸å–®æ•¸</h4>
          <div class="val" id="basic-ct">0 / 0</div>
        </div>
        <div class="box">
          <h4>å£è¨£</h4>
          <div class="muted">ç›ˆåˆ© = stake Ã— (odds Ã· 100)ï¼›è™§æ = stakeï¼›åé€²åˆ¶ = 1 + odds/100ã€‚</div>
        </div>
      </div>
    </section>

    <!-- CONVERTER -->
    <section class="panel" id="panel-convert">
      <div class="row">
        <div>
          <label class="small">å°åº¦è³ ç‡ï¼ˆIndianï¼‰</label>
          <input id="indodds" type="number" step="0.01" min="0" value="100" />
        </div>
        <div>
          <label class="small">åé€²åˆ¶è³ ç‡ï¼ˆDecimalï¼‰</label>
          <input id="decodds" type="number" step="0.01" min="1" value="2.00" />
        </div>
        <div class="row">
          <button class="btn" id="toDec">å°åº¦ â†’ åé€²åˆ¶</button>
          <button class="btn" id="toInd">åé€²åˆ¶ â†’ å°åº¦</button>
        </div>
      </div>
      <div class="box" style="margin-top:12px">
        <h4>å…¬å¼</h4>
        <div class="muted">Decimal = 1 + Indian/100ï¼›Indian = (Decimal âˆ’ 1) Ã— 100</div>
      </div>
    </section>

    <!-- èªªæ˜ï¼ˆé è¨­æ”¶åˆï¼‰ -->
    <details style="margin-top:12px">
      <summary>ğŸ“˜ Fancy Bet è¦å‰‡èªªæ˜ï¼ˆå«ã€Œä½œå»¢ã€ï¼‰</summary>
      <div class="box">
        <h4>ä»€éº¼æ˜¯ä½œå»¢ (void / push)ï¼Ÿ</h4>
        <p class="muted">é€™ç­†æ³¨å–®ä¸ç®—è¼¸è´ï¼Œæœ¬é‡‘é€€å›ï¼Œä¸æ”¶äº¤æ˜“æ‰€ä½£é‡‘ã€‚</p>
        <h4>å¸¸è¦‹ä½œå»¢æƒ…æ³</h4>
        <ul class="muted" style="margin:0 0 8px 18px">
          <li><b>çµæœç­‰æ–¼åˆ†æ•¸ç·š</b>ï¼šä¾è¦å‰‡å¯è¨­å®šç‚ºä½œå»¢ / ç®— YES / ç®— NOï¼ˆæœ¬å·¥å…·ä¸Šæ–¹å¯åˆ‡æ›ï¼‰ã€‚</li>
          <li><b>åˆ†æ®µæœªå®Œæˆ</b>ï¼šå¦‚åªæ‰“åˆ°ç¬¬8 over å°±çµ‚æ­¢ï¼Œæœªæˆå½¢çš„åˆ†æ®µ Fancy é€šå¸¸ä½œå»¢ã€‚</li>
          <li><b>å°è±¡æœªä¸Šå ´/æ¢ä»¶æœªæˆå½¢</b>ï¼šä¾‹å¦‚æŒ‡å®šæ‰“è€…æœªä¸Šå ´ã€‚</li>
          <li><b>è³½äº‹è¦å‰‡è®Šæ›´</b>ï¼šç¸®å±€ã€åˆ¤ç„¡æ•ˆç­‰å°è‡´ç„¡æ³•å…¬å¹³çµç®—ã€‚</li>
        </ul>
        <h4>è¨ˆç®—å…¬å¼ï¼ˆå°åº¦è³ ç‡ï¼‰</h4>
        <ul class="muted" style="margin:0 0 8px 18px">
          <li>ç›ˆåˆ© = <code>stake Ã— (odds Ã· 100)</code></li>
          <li>è™§æ = <code>stake</code></li>
          <li>åé€²åˆ¶ = <code>1 + odds/100</code></li>
        </ul>
        <h4>å¸¸è¦‹é¢¨éšª</h4>
        <ul class="muted" style="margin:0 0 0 18px">
          <li>æ²’çœ‹ equal è¦å‰‡ â†’ ä»¥ç‚ºè´/è¼¸ï¼Œå¯¦éš›ä½œå»¢æˆ–åˆ¤å¦ä¸€é‚Šã€‚</li>
          <li>æŠŠå°åº¦è³ ç‡ç•¶åé€²åˆ¶ â†’ ç®—éŒ¯ç›ˆè™§ã€‚</li>
          <li>å¿½ç•¥æœ€å°/æœ€å¤§ä¸‹æ³¨é¡ã€æˆ–è³½äº‹æœªå®Œæˆã€‚</li>
        </ul>
      </div>
    </details>
  </main>

  <script>
    const $ = (sel, root=document)=>root.querySelector(sel);
    const $$ = (sel, root=document)=>[...root.querySelectorAll(sel)];
    const THEME_KEY='fancy_theme_v1';
    function applyTheme(t){
      document.documentElement.setAttribute('data-theme', t);
      $('#theme').textContent = (t==='dark')?'åˆ‡æ›ç‚ºæ·ºè‰²':'åˆ‡æ›ç‚ºæ·±è‰²';
    }
    (function initTheme(){
      const saved = localStorage.getItem(THEME_KEY);
      const prefersLight = window.matchMedia && window.matchMedia('(prefers-color-scheme: light)').matches;
      applyTheme(saved || (prefersLight?'light':'dark'));
      $('#theme').addEventListener('click',()=>{
        const cur = document.documentElement.getAttribute('data-theme') || 'dark';
        const n = cur==='dark'?'light':'dark';
        localStorage.setItem(THEME_KEY,n); applyTheme(n);
      });
    })();

    // Tabs
    $$('.tab').forEach(t=>t.addEventListener('click',()=>{
      $$('.tab').forEach(x=>x.classList.remove('active')); t.classList.add('active');
      $$('.panel').forEach(p=>p.classList.remove('active'));
      $('#panel-'+t.dataset.tab).classList.add('active');
    }));

    const dpEl = $('#dp');
    const fmt = (n)=> (isFinite(n)? n:0).toFixed(Math.max(0, parseInt(dpEl.value)||0));
    const posClass = (el,n)=>{ el.classList.toggle('pos',n>0); el.classList.toggle('neg',n<0); };

    // RUNS rows
    const runsRows = $('#runs-rows');
    function addRunsRow(data={}){
      const tr = document.createElement('tr');

      const tdIdx = document.createElement('td'); tdIdx.className='num'; tr.appendChild(tdIdx);

      const tdName = document.createElement('td');
      const inpName = document.createElement('input'); inpName.placeholder='å¸‚å ´åç¨±ï¼ˆå¯ç•™ç©ºï¼‰'; inpName.value = data.name||'';
      tdName.appendChild(inpName); tr.appendChild(tdName);

      const tdSel = document.createElement('td');
      const sel = document.createElement('select'); sel.innerHTML = '<option value="YES">YES</option><option value="NO">NO</option>';
      sel.value = data.selection||'YES'; tdSel.appendChild(sel); tr.appendChild(tdSel);

      const tdLine = document.createElement('td');
      const inpLine = document.createElement('input'); inpLine.type='number'; inpLine.step='1'; inpLine.value = data.line ?? '';
      tdLine.appendChild(inpLine); tr.appendChild(tdLine);

      const tdOdds = document.createElement('td');
      const inpOdds = document.createElement('input'); inpOdds.type='number'; inpOdds.step='0.01'; inpOdds.min='0';
      inpOdds.value = data.odds ?? ''; tdOdds.appendChild(inpOdds); tr.appendChild(tdOdds);

      const tdStake = document.createElement('td');
      const inpStake = document.createElement('input'); inpStake.type='number'; inpStake.step='0.01'; inpStake.min='0';
      inpStake.value = data.stake ?? ''; tdStake.appendChild(inpStake); tr.appendChild(tdStake);

      const tdResult = document.createElement('td');
      const inpRes = document.createElement('input'); inpRes.type='number'; inpRes.step='1';
      inpRes.value = data.result ?? ''; tdResult.appendChild(inpRes); tr.appendChild(tdResult);

      const tdPL = document.createElement('td'); tdPL.className='num'; tdPL.textContent='0.00'; tr.appendChild(tdPL);

      const tdDel = document.createElement('td');
      const del = document.createElement('button'); del.textContent='åˆªé™¤'; del.onclick=()=>{ tr.remove(); renumber(runsRows); calcRuns(); };
      tdDel.appendChild(del); tr.appendChild(tdDel);

      [inpName, sel, inpLine, inpOdds, inpStake, inpRes, dpEl, $('#eq-mode')].forEach(el=> el.addEventListener('input', calcRuns));
      runsRows.appendChild(tr); renumber(runsRows); calcRuns();
    }
    function renumber(tbody){ $$( 'tr', tbody).forEach( (tr,i)=> tr.children[0].textContent = i+1 ); }
    function calcRuns(){
      let total=0, win=0, lose=0, voidCt=0;
      const eqMode = $('#eq-mode').value; // void/yes/no
      $$('#runs-rows tr').forEach(tr=>{
        const selection = tr.children[2].querySelector('select').value; // YES/NO
        const line = parseFloat(tr.children[3].querySelector('input').value);
        const odds = parseFloat(tr.children[4].querySelector('input').value);
        const stake = parseFloat(tr.children[5].querySelector('input').value);
        const result = parseFloat(tr.children[6].querySelector('input').value);
        const tdPL = tr.children[7];
        if(!(isFinite(line)&&isFinite(odds)&&isFinite(stake)&&isFinite(result)) || stake<=0 || odds<0){ tdPL.textContent='0.00'; return; }
        let occurred = null;
        if(result === line){
          if(eqMode==='void'){ tdPL.textContent = '0.00'; voidCt++; return; }
          occurred = (eqMode==='yes');
        }else{
          occurred = (result > line); // ã€Œé€šå¸¸ï¼šYesï¼å¤§æ–¼ç·šã€çš„é è¨­
        }
        let pl = 0;
        if(selection==='YES'){
          pl = occurred ? stake*(odds/100) : -stake;
        }else{ // NO
          pl = occurred ? -stake : stake*(odds/100);
        }
        tdPL.textContent = fmt(pl); posClass(tdPL, pl);
        total += pl; if(pl>0) win++; if(pl<0) lose++;
      });
      $('#runs-total').textContent = fmt(total); posClass($('#runs-total'), total);
      $('#runs-ct').textContent = `${win} / ${lose} / ${voidCt}`;
    }
    $('#runs-add').onclick = ()=> addRunsRow();
    $('#runs-clear').onclick = ()=>{ runsRows.innerHTML=''; calcRuns(); };
    function loadRunsPreset(val){
      runsRows.innerHTML='';
      if(val==='demo'){
        addRunsRow({name:'USGC 10 Over Runs', selection:'NO', line:107, odds:100, stake:100, result:100});
        addRunsRow({name:'USGC 10 Over Runs', selection:'YES', line:109, odds:100, stake:100, result:112});
        addRunsRow({name:'Fall of 3rd WKT', selection:'NO', line:77, odds:110, stake:100, result:65});
        addRunsRow({name:'Fall of 3rd WKT', selection:'YES', line:77, odds:90, stake:100, result:65});
      }else if(val==='big'){
        addRunsRow({name:'10 Over Runs', selection:'NO',  line:128, odds:500, stake:100, result:126});
        addRunsRow({name:'10 Over Runs', selection:'YES', line:128, odds:300, stake:100, result:130});
        addRunsRow({name:'10 Over Runs (equal)', selection:'YES', line:128, odds:300, stake:100, result:128});
      }else if(val==='small'){
        addRunsRow({name:'Over Runs', selection:'NO',  line:27, odds:110, stake:100, result:26});
        addRunsRow({name:'Over Runs', selection:'YES', line:27, odds:90,  stake:100, result:28});
        addRunsRow({name:'Over Runs (equal)', selection:'NO', line:27, odds:110, stake:100, result:27});
      }
    }
    $('#runs-presets').addEventListener('change', (e)=>{
      if(e.target.value!=='none') loadRunsPreset(e.target.value);
    });

    // BASIC rows
    const basicRows = $('#basic-rows');
    function addBasicRow(data={}){
      const tr = document.createElement('tr');

      const tdIdx = document.createElement('td'); tdIdx.className='num'; tr.appendChild(tdIdx);

      const tdName = document.createElement('td');
      const inpName = document.createElement('input'); inpName.placeholder='å¸‚å ´åç¨±ï¼ˆå¯ç•™ç©ºï¼‰'; inpName.value = data.name||'';
      tdName.appendChild(inpName); tr.appendChild(tdName);

      const tdSel = document.createElement('td');
      const sel = document.createElement('select'); sel.innerHTML = '<option value="YES">YES</option><option value="NO">NO</option>';
      sel.value = data.selection||'YES'; tdSel.appendChild(sel); tr.appendChild(tdSel);

      const tdOdds = document.createElement('td');
      const inpOdds = document.createElement('input'); inpOdds.type='number'; inpOdds.step='0.01'; inpOdds.min='0';
      inpOdds.value = data.odds ?? ''; tdOdds.appendChild(inpOdds); tr.appendChild(tdOdds);

      const tdStake = document.createElement('td');
      const inpStake = document.createElement('input'); inpStake.type='number'; inpStake.step='0.01'; inpStake.min='0';
      inpStake.value = data.stake ?? ''; tdStake.appendChild(inpStake); tr.appendChild(tdStake);

      const tdRes = document.createElement('td');
      const selRes = document.createElement('select'); selRes.innerHTML = '<option value="YES">YES</option><option value="NO">NO</option>';
      selRes.value = data.result||'YES'; tdRes.appendChild(selRes); tr.appendChild(tdRes);

      const tdPL = document.createElement('td'); tdPL.className='num'; tdPL.textContent='0.00'; tr.appendChild(tdPL);

      const tdDel = document.createElement('td');
      const del = document.createElement('button'); del.textContent='åˆªé™¤'; del.onclick=()=>{ tr.remove(); renumber(basicRows); calcBasic(); };
      tdDel.appendChild(del); tr.appendChild(tdDel);

      [inpName, sel, inpOdds, inpStake, selRes, dpEl].forEach(el=> el.addEventListener('input', calcBasic));
      basicRows.appendChild(tr); renumber(basicRows); calcBasic();
    }
    function calcBasic(){
      let total=0, win=0, lose=0;
      $$('#basic-rows tr').forEach(tr=>{
        const selection = tr.children[2].querySelector('select').value;
        const odds = parseFloat(tr.children[3].querySelector('input').value);
        const stake = parseFloat(tr.children[4].querySelector('input').value);
        const result = tr.children[5].querySelector('select').value;
        const tdPL = tr.children[6];
        if(!(isFinite(odds)&&isFinite(stake)) || stake<=0 || odds<0){ tdPL.textContent='0.00'; return; }
        const correct = (selection === result);
        const pl = correct ? stake*(odds/100) : -stake;
        tdPL.textContent = fmt(pl); posClass(tdPL, pl);
        total += pl; if(pl>0) win++; if(pl<0) lose++;
      });
      $('#basic-total').textContent = fmt(total); posClass($('#basic-total'), total);
      $('#basic-ct').textContent = `${win} / ${lose}`;
    }
    $('#basic-add').onclick = ()=> addBasicRow();
    $('#basic-clear').onclick = ()=>{ basicRows.innerHTML=''; calcBasic(); };
    function loadBasicPreset(val){
      basicRows.innerHTML='';
      if(val==='demo'){
        addBasicRow({name:'3rd WKT Caught Out @1', selection:'NO', odds:55, stake:100, result:'NO'});
        addBasicRow({name:'3rd WKT Caught Out @1', selection:'YES', odds:45, stake:100, result:'NO'});
      }else if(val==='yn'){
        addBasicRow({name:'YES-NO å¸‚å ´ç¤ºä¾‹', selection:'NO', odds:55, stake:100, result:'NO'});
        addBasicRow({name:'YES-NO å¸‚å ´ç¤ºä¾‹', selection:'YES', odds:45, stake:100, result:'NO'});
      }
    }
    $('#basic-presets').addEventListener('change', (e)=>{
      if(e.target.value!=='none') loadBasicPreset(e.target.value);
    });

    // Converter
    $('#toDec').onclick = ()=>{
      const ind = parseFloat($('#indodds').value);
      if(!(isFinite(ind))){ return; }
      const dec = 1 + ind/100;
      $('#decodds').value = dec.toFixed(2);
    };
    $('#toInd').onclick = ()=>{
      const dec = parseFloat($('#decodds').value);
      if(!(isFinite(dec))){ return; }
      const ind = (dec - 1) * 100;
      $('#indodds').value = ind.toFixed(2);
    };

    // seed
    function renumber(tbody){ $$( 'tr', tbody).forEach( (tr,i)=> tr.children[0].textContent = i+1 ); }
    addRunsRow();
    addBasicRow();
  </script>
</body>
</html>
